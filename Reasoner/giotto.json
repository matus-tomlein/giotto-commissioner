[{"id":"a89df565.277c48","type":"tab","label":"Flow 1"},{"id":"5cf52a8f.796c24","type":"Ontology","z":"a89df565.277c48","content":"@prefix case: <http://matus.tomlein.org/case#> .\n\ncase:sensorTag a case:DeviceCharacteristicType;\n  case:description \"TI SensorTag with\";\n  case:option \"Bluetooth\";\n  case:option \"WiFi\";\n  case:option \"ZigBee\";\n  case:option \"6LoWPAN\";\n  case:valueType \"select\".\n\ncase:sensorService a case:ServiceCharacteristicType;\n  case:description \"Measurement of\";\n  case:option \"Pressure\";\n  case:option \"Temperature\";\n  case:option \"Humidity\";\n  case:option \"Lux\";\n  case:valueType \"select\".\n\ncase:led a case:ServiceCharacteristicType;\n  case:description \"LED with color\";\n  case:option \"Red\";\n  case:option \"Green\";\n  case:valueType \"select\".\n\ncase:buzzer a case:ServiceCharacteristicType;\n  case:description \"Buzzer\".\n\ncase:building a case:LocationType;\n  case:name \"Building\".","label":"Ontology","x":140,"y":380,"wires":[]},{"id":"92701dee.e7a648","type":"Start","z":"a89df565.277c48","disabled":"","suggestPotentialPlacements":true,"suggestPotentialRelations":true,"suggestPotentialResources":true,"suggestPotentialDeviceRoles":true,"x":140,"y":120,"wires":[["21726c58.ca1204"]]},{"id":"a24bef6f.7e0448","type":"rule","z":"a89df565.277c48","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"if_for_event_service\" id=\".op7#|}Vt(f5(g/:upCp\" x=\"24\" y=\"40\"><field name=\"service\">Day or night</field><field name=\"value\">Day</field><next><block type=\"then_for_trigger_service\" id=\"0MOf_HJN]ZlVDPuS{|jb\"><field name=\"service\">Buzzer</field></block></next></block><block type=\"if_for_event_service\" id=\"Dr;vap%auO/kJ-k_v#uT\" x=\"34\" y=\"121\"><field name=\"service\">Day or night</field><field name=\"value\">Night</field><next><block type=\"then_for_trigger_service\" id=\"gTYAx~O=BlQv/J2!NlZb\"><field name=\"service\">Buzzer</field></block></next></block></xml>","jsonData":"{\"rules\":[[{\"virtualSensor\":\"Day or night\",\"value\":\"Day\"},{\"consumer\":\"Buzzer\"}],[{\"virtualSensor\":\"Day or night\",\"value\":\"Night\"},{\"consumer\":\"Buzzer\"}]]}","label":"Trigger buzz","x":650,"y":240,"wires":[]},{"id":"a33a3766.a4bba8","type":"application","z":"a89df565.277c48","name":"BuzzerApp","jsonData":"{\"tags\":[\"buzzing\",\"app\"],\"parameters\":[{\"name\":\"Buzzer\",\"accepts\":\"DataConsumer\"},{\"name\":\"Light\",\"accepts\":\"DataProvider\"}]}","variables":"{\"Device\":[],\"Resource\":[],\"VirtualSensor\":[],\"DataProvider\":[\"Light\"],\"DataConsumer\":[\"Buzzer\"],\"Location\":[]}","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"application_parameter\" id=\"_7S{7%JA*Iq6jFaEyzzV\" x=\"35\" y=\"31\"><field name=\"name\">Buzzer</field><field name=\"accepts\">DataConsumer</field></block><block type=\"application_parameter\" id=\"RM_^[5xJNb5gG}h-Y3Y;\" x=\"30\" y=\"134\"><field name=\"name\">Light</field><field name=\"accepts\">DataProvider</field></block><block type=\"application_tag\" id=\"kYI49p:}p|GLKx%OPpG^\" x=\"46\" y=\"238\"><field name=\"tag\">buzzing</field></block><block type=\"application_tag\" id=\"a9Z8!6d0Wj{Xy;Y7v:V1\" x=\"51\" y=\"280\"><field name=\"tag\">app</field></block></xml>","x":140,"y":240,"wires":[["6750635b.51b3e4"]]},{"id":"a30bc6b3.ed766","type":"service","z":"a89df565.277c48","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"data_provider\" id=\"Otv-B7Qo*Zee4t{0wK)U\" x=\"38\" y=\"21\"><field name=\"label\">Light</field><field name=\"device\">Sensortag</field><statement name=\"characteristics\"><block type=\"http://matus.tomlein.org/case#sensorService\" id=\"EA88k:]S@!VZ(VEtPcUH\"><field name=\"value\">Lux</field></block></statement></block><block type=\"data_consumer\" id=\"V-cC@A8qW!yEgr.8_ZN8\" x=\"30\" y=\"154\"><field name=\"label\">Buzzer</field><field name=\"device\">Sensortag</field><statement name=\"characteristics\"><block type=\"http://matus.tomlein.org/case#buzzer\" id=\"BGt]+)Vl;9Sn6/^M+1{z\"></block></statement></block></xml>","jsonData":"{\"services\":[{\"variable\":\"Light\",\"type\":\"provider\",\"device\":\"Sensortag\",\"characteristics\":[{\"uri\":\"http://matus.tomlein.org/case#sensorService\",\"value\":\"Lux\"}]},{\"variable\":\"Buzzer\",\"type\":\"consumer\",\"device\":\"Sensortag\",\"characteristics\":[{\"uri\":\"http://matus.tomlein.org/case#buzzer\",\"value\":\"\"}]}]}","variables":"{\"DataProvider\":[\"Light\"],\"DataConsumer\":[\"Buzzer\"]}","x":530,"y":120,"wires":[["c42d14c8.796548"],[]]},{"id":"c42d14c8.796548","type":"recommend","z":"a89df565.277c48","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"http://matus.tomlein.org/case#property_type_82eaf8500350a7e3bf09f05e5ae6ab46\" id=\"(NejDlmzL=B+@Z3V5/L+\" x=\"26\" y=\"54\"><field name=\"http://matus.tomlein.org/case#param_899ecbfab28ad1526f839396524fc426\">Light</field><field name=\"http://matus.tomlein.org/case#param_f7e98bec1d3703234b34b8428d32d9b1\">Buzzer</field></block></xml>","jsonData":"{\"properties\":[{\"uri\":\"http://matus.tomlein.org/case#property_type_82eaf8500350a7e3bf09f05e5ae6ab46\",\"title\":\"BuzzerApp\",\"parameters\":[{\"uri\":\"http://matus.tomlein.org/case#param_899ecbfab28ad1526f839396524fc426\",\"accepts\":\"DataProvider\",\"value\":\"Light\"},{\"uri\":\"http://matus.tomlein.org/case#param_f7e98bec1d3703234b34b8428d32d9b1\",\"accepts\":\"DataConsumer\",\"value\":\"Buzzer\"}]}]}","assigned":"","x":830,"y":120,"wires":[]},{"id":"21726c58.ca1204","type":"Device","z":"a89df565.277c48","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"device\" id=\"o+/p.{ThYToZRxaEFQ36\" x=\"25\" y=\"51\"><field name=\"label\">Sensortag</field><statement name=\"characteristics\"><block type=\"http://matus.tomlein.org/case#sensorTag\" id=\"6vl/rmUmzp[al+XT%h7Y\"><field name=\"value\">Bluetooth</field></block></statement></block></xml>","jsonData":"{\"resources\":[],\"devices\":[{\"variable\":\"Sensortag\",\"characteristics\":[{\"uri\":\"http://matus.tomlein.org/case#sensorTag\",\"value\":\"Bluetooth\"}]}]}","variables":"{\"Device\":[\"Sensortag\"],\"Resource\":[]}","x":330,"y":100,"wires":[["a30bc6b3.ed766"],[]]},{"id":"6750635b.51b3e4","type":"virtual-sensor","z":"a89df565.277c48","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"virtual_sensor\" id=\"FeX!B[XZy)(j{7_H5oS6\" x=\"52\" y=\"40\"><field name=\"label\">Day or night</field><statement name=\"inputs\"><block type=\"data_provider_input\" id=\"sc{t-3NRb9s5]0Xy2u3K\"><field name=\"data_provider\">Light</field></block></statement><statement name=\"labels\"><block type=\"virtual_sensor_label\" id=\"?j0!eh?7EqhpT%RP,WqY\"><field name=\"label\">Day</field><next><block type=\"virtual_sensor_label\" id=\".Hdfu]_!wE+nhL0z:Lkb\"><field name=\"label\">Night</field></block></next></block></statement></block></xml>","jsonData":"{\"virtualSensors\":[{\"variable\":\"Day or night\",\"inputs\":[\"Light\"],\"labels\":[\"Day\",\"Night\"]}]}","variables":"{\"VirtualSensor\":[\"Day or night\"],\"VirtualSensorLabel\":[\"Day\",\"Night\"]}","x":310,"y":240,"wires":[["a24bef6f.7e0448"],[]]},{"id":"fc213c93.daece8","type":"Definition","z":"a89df565.277c48","label":"","jsonData":"{\"locationTypes\":[],\"flowTypes\":[{\"name\":\"Flow\",\"description\":\"\"}],\"propertyTypes\":[{\"name\":\"Test app\",\"kind\":\"application\",\"parameters\":[{\"name\":\"dev\",\"accepts\":\"Device\"}]}]}","variables":"{\"Location type\":[],\"Flow type\":[\"Flow\"],\"Relation type\":[]}","data":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"flow_type\" id=\"wwd8?1KABa3@B;E^QF3=\" x=\"71\" y=\"26\"><field name=\"name\">Flow</field><field name=\"description\"></field></block><block type=\"property_type\" id=\"DO@05WBGh[R4.n0Pg`7w\" x=\"64\" y=\"161\"><field name=\"kind\">application</field><field name=\"name\">Test app</field><statement name=\"parameters\"><block type=\"property_type_parameter\" id=\"wXZBh8gjYAlfm*Nr+:mS\"><field name=\"name\">dev</field><field name=\"accepts\">Device</field></block></statement></block></xml>","x":140,"y":460,"wires":[]}]